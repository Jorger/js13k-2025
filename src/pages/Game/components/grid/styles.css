.gg {
  --sg: calc(var(--si) / 2);
  border: 5px solid #000;
  position: relative;
  animation: scaleAndRotate 0.6s ease-out forwards;
}

.tile {
  height: var(--si);
  position: absolute;
  width: var(--si);
  pointer-events: none;
}

.tile-0 {
  --sg: calc(var(--si) / 2);
  --c1: #c098ff;
  --c2: #9177e7;
  box-shadow: -12px 11px 5px rgba(0, 0, 0, 0.4);
}

/* Coin */
.tile-1::after,
.tile-1::before,
.tile-3::after,
.tile-3::before {
  content: "";
  width: 70%;
  height: 70%;
  background: black;
  left: 15%;
  top: 15%;
  position: absolute;
  animation: spin 3s linear infinite;
}

.tile-1::after,
.tile-3::after {
  background: #f5c101;
  width: 50%;
  height: 50%;
  left: 25%;
  top: 25%;

  background-image: linear-gradient(#feec01, #feec01),
    linear-gradient(#fefeaa, #fefeaa), linear-gradient(#fefeaa, #fefeaa),
    linear-gradient(#feec01, #feec01), linear-gradient(#feec01, #feec01);
  background-repeat: no-repeat;
  background-size: 25% 75%, 100% 25%, 25% 100%, 50% 25%, 75% 25%;
  background-position: 0 0, 25% 0, 100% 0, 0 75%, 75% 100%;
}

.tile-1::before,
.tile-3::before {
  box-shadow: -12px 11px 5px #00000087;
}

/* SPIKE */
.tile-2 {
  background-image: linear-gradient(#121125, #121125),
    linear-gradient(#aba9cf, #aba9cf), linear-gradient(#121125, #121125),
    linear-gradient(#aba9cf, #aba9cf), linear-gradient(#121125, #121125),
    linear-gradient(#aba9cf, #aba9cf), linear-gradient(#121125, #121125),
    linear-gradient(#aba9cf, #aba9cf);

  background-repeat: no-repeat;
  background-size: 20% 10%;
  background-position: 10% 10%, 10% 20%, 85% 10%, 85% 20%, 10% 80%, 10% 90%,
    85% 80%, 85% 90%;
}

.tile-1.coin,
.tile-3.coin {
  animation: coinPickup 0.5s ease-out forwards;
  animation-delay: var(--s, 0);
}

/* Key */
.tile-3 {
  filter: hue-rotate(145deg);
}

/* GATES */
.tile-4 {
  background: #242026;

  background-image: linear-gradient(#fffdff, #fffdff),
    linear-gradient(#242026, #242026), linear-gradient(#242026, #242026),
    linear-gradient(#242026, #242026), linear-gradient(#242026, #242026),
    linear-gradient(#009dff, #009dff), linear-gradient(#00cefb, #00cefb),
    linear-gradient(#0076ed, #0076ed), linear-gradient(#049dff, #049dff);
  background-repeat: no-repeat;
  background-size: 15% 15%, 40% 13%, 40% 13%, 13% 50%, 13% 50%, 35% 35%, 35% 35%,
    35% 35%, 35% 35%;
  background-position: 85% 15%, 50% 25%, 50% 70%, 32% 45%, 68% 45%, 24% 20%,
    78% 20%, 24% 73%, 78% 73%;
  box-shadow: -12px 11px 5px rgba(0, 0, 0, 0.4);
}

.tile-4.open {
  filter: hue-rotate(280deg);
}

/* Box */
.tile-5::after,
.tile-5::before {
  content: "";
  background-color: #fee4c9;
  width: 80%;
  height: 80%;
  position: absolute;
  left: 10%;
  top: 10%;
  box-shadow: rgba(0, 0, 0, 0.4) 0px 2px 4px,
    rgba(0, 0, 0, 0.3) 0px 7px 13px -3px, rgba(0, 0, 0, 0.2) 0px -3px 0px inset;
  background-image: linear-gradient(#fec2b1, #fec2b1);
  background-repeat: no-repeat;
  background-size: 60% 60%;
  background-position: 0 100%;
}

.tile-5::after {
  background-color: #eaa0a2;
  width: 60%;
  height: 55%;
  left: 20%;
  top: 20%;
  box-shadow: none;
  background-image: linear-gradient(#b9687b, #b9687b),
    linear-gradient(#b9687b, #b9687b), linear-gradient(#b9687b, #b9687b);
  background-size: 25% 25%;
  background-position: 0 0, 100% 0, 100% 100%;
}

.gg.normal .cat {
  --pos: translate(var(--x), var(--y));
  transform: var(--pos);
}

.gg.firefox .cat {
  left: var(--x);
  top: var(--y);
}

.gg.normal .cat.ani {
  transition: transform var(--s, 100ms) ease-in-out;
}

.gg.firefox .cat.ani {
  transition: left var(--s, 100ms) ease-in-out, top var(--s, 100ms) ease-in-out;
}

.cat.explode,
.tile-5.explode {
  animation: explode 0.3s forwards;
}

@keyframes spin {
  0% {
    transform: rotateY(0deg);
  }
  100% {
    transform: rotateY(360deg);
  }
}

@keyframes coinPickup {
  0% {
    transform: translateY(0);
    opacity: 1;
    scale: 1;
  }
  50% {
    transform: translateY(-20px);
    opacity: 0.7;
    scale: 1.1;
  }
  100% {
    transform: translateY(-50px);
    opacity: 0;
    scale: 0.8;
  }
}

@keyframes explode {
  0% {
    transform: var(--pos, translate(0, 0)) scale(1);
    filter: blur(0px);
    opacity: 1;
  }
  40% {
    transform: var(--pos, translate(0, 0)) scale(1.3);
    filter: blur(4px);
    opacity: 0.9;
  }
  70% {
    transform: var(--pos, translate(0, 0)) scale(0.7);
    filter: blur(8px);
    opacity: 0.5;
  }
  100% {
    transform: var(--pos, translate(0, 0)) scale(1.5);
    filter: blur(15px);
    opacity: 0;
  }
}

@keyframes scaleAndRotate {
  0% {
    transform: scale(1.2) rotate(10deg);
    opacity: 0;
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}
